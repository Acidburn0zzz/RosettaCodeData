fun main():
    let words = ['Enjoy', 'Rosetta', 'Code']
    random.seed(time.now())
    let q = Chan[Str]()

    for w in words:
        run (w:) ->
            time.sleep(random())
            q << w

    for i in [:words.size]:
        print q
